# 压测单个worker
---
## 为什么
* worker ，plugin 是 和计算机核 关联的
* worker 与 计算机核心数相关： 核心数 -2 
* 测试单个worker，plugin 的分发能力，可以帮助估算之后机器部署

---
## 怎么做
尝试定量 实验，
* 不变量
  * 假定 时间因素影响为0 每组实验5分钟
  * 使用同一台机器： 74
* 变量
  * 以 会议为单位， 其中， 每个会议9个人
  * 每增加1个会议，观察5分钟
* 基准
  * 由前2周实验数据，worker可在2G以上稳定输出，可以估算当前可以至少在3 - 4 个会议基础上进行实验

---
## 任务记录
---
### 1. 第一次
**时间:** 2020-11-13 16:19:50
```
记录： 
  内存上涨，记录bug，重新来
```

### 2. 第二次
**时间** 2020-11-13 16:39:14
```
会议号： 90019168 40019166 90019169 60019167
启动完成时间 :  2020/11/13 下午4:41:37
Redmeeting 内存： 2.37G
mediasoup-worker: 566.7MB
recv 流量： 38.5mbps
```

```
ADD
会议号： 60019170
启动完成时间 :  2020/11/13 下午4:55:31
Redmeeting 内存： 2.95G
mediasoup-worker: 706.2MB
recv 流量： 48.1mbps

备注： 有卡顿
```
```
ADD
会议号： 50019171
启动完成时间 :  2020/11/13 下午5:13:25
Redmeeting 内存： 3.53G
mediasoup-worker: 845.7MB
recv 流量： 58.1mbps

备注： 有卡顿
```

```
ADD
会议号： 90019173
启动完成时间 :  2020/11/13 下午5:35:26
Redmeeting 内存： 4.17G
mediasoup-worker: 983.7MB
recv 流量： 67.3mbps

备注： 3条流随机有卡顿
```

```
ADD
会议号： 70019172
启动完成时间 :  2020/11/13 下午5:46:23
Redmeeting 内存： 4.69G
mediasoup-worker: 1.09G
recv 流量： 76.6mbps

备注： 1-6条流随机有卡顿 一般在2条
```

```
ADD
会议号： 30019174
启动完成时间 :  2020/11/13 下午6:04:37
Redmeeting 内存： 5.278G
mediasoup-worker: 1.23G
recv 流量： 87.2mbps
send： 108.2 mbps(不稳定)

备注： 1-6条流随机有卡顿 一般在2条
```

```
ADD
会议号： 50019259
当前会议数： 10
启动完成时间 :  2020/11/13 下午6:39:32
Redmeeting 内存： 5.858G
mediasoup-worker: 1.372G
recv 流量： 96mbps
send： 121 mbps

备注： 3-7条流随机有卡顿 一般在4条
```

```
ADD
会议号： 90019260
当前会议数： 11
启动完成时间 :  2020/11/13 下午6:59:23
Redmeeting 内存： 6.434G
mediasoup-worker: 1.506G
recv 流量： 107mbps
send： 130.5 mbps

备注： 3-7条流随机有卡顿 一般在4条
```
