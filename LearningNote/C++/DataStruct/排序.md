# 排序
---
## 一般定义
* 是一种计算机内部的一种操作
* 目的： 无序的数据元素 -> 有序的数据元素

## 数学定义
```
 假设 含有 n 个数据元素的序列为 ：{R1, R2, ..., Rn},
 其相应的关键字序列为:{K1, K2, K3, ..., Kn};

 这些关键字相互之间可以进行比较， 即： 在它们之间存在着这样一个关系：
 Kp1 <= Kp2 <=... <= Kpn

 按此固有关系将上式 记录 序列 重新排列为：
 {Rp1, Rp2, Rp3...Rpn}
 的操作 为 排序

```

---
## 排序的稳定性
```
若 序列 中 有 数据元素  a ， b 它们的关键字 Ka == Kb， 且 排序之前 a 在b 前面。

在排序之后， 若 a 仍然 在 b 前面 ，则 我们说 这个排序 是 稳定的

否则：就是不稳定的
```

---
## 多关键字 排序
排序时 需要比较的关键字多余一个
* 排序结果首先 按 **关键字1** 进行排序
* 当 **关键字1** 相同时 按 **关键字2** 进行排序
* ...
* 当 **关键字n-1** 相同时 按 **关键字n** 进行排序

**备注** 关键字的优先级

#### 与单关键字
并不比单关键字更复杂

---
## 排序的关键操作
### 比较
任意两个元素通过 比较操作 确定 先后次序

### 交换
数据元素之间 需要交换 才能得到预期结果

---
## 排序的审判
### 时间性能
关键性能差异体现在 比较 和 交换 的 数量

### 辅助存储空间
* 为完成排序操作 需要的额外的存储空间
* 必要时 可以 "空间换时间"

### 算法的实现复杂性
过于 复杂的排序法 可能影响可读性 和 可维护性

---
## 选择排序
### 基本思想
每次 从后面(n-i)个待排的数据元素中选出关键字最小的元素，作为有序元素序列第 i个元素

### 显示
```
有序序列   无序序列
i
有序序列 + i    无序数列
```

**不稳定** O(n^2)

---
## 插入排序
* 当我们要插入 第 i 个数据元素时， 前面的 v[0],v[1]...v[i-1]已经**排好序**；
* 这时 用 v[i]的关键字， 与 v[i-1], v[i-2]...v[0]的关键字进行比较
* 找到位置后将 v[i]插入，原来对象向后移

**稳定排序** O(n^2)

---
## 冒泡排序
* 每次**从后向前** 进行， j = n -1, n-2, ... i,
* 两两比较 v[j-1] 和 v[j]的关键字
* 如果逆序， 则交换 v[j-1]和 v[j]

**稳定排序** O(n^2)

---
## 希尔排序
* 将待排序 序列划分为若干组
* 每一组进行 **插入排序**，使得整个序列基本有序
* 然后再对整个序列进行插入排序

O(n ^ 3/2)

### 划分序列
d 逐渐减小
```
d = d / 3 + 1;
```

---
## 归并排序
* 将两个 或两个以上的 有序序列 合并成一个新的有序序列
* 归并序列 必须 **有序**
* 几个有序序列归并 就叫 几路归并

**稳定排序**

---
## 快速排序的基本思想
* 任取序列中的某个数据元素 **作为基准** 将整个序列划分为 左右两个序列
  * **左侧子序列** 中 所有元素 都 小于或等于 基准元素
  * **右侧子序列** 中 所有元素都大于基准元素
  * 基准元素排在这两个子序列中间
* 分别对着两个子序列重复进行划分，知道所有的数据元素都排在相应位置上 为止

**不稳定**

---
## 问题：
当 待排序数据元素为 **体积庞大的对象** 时， 如何提高排序效率？

### 问题分析
* 排序过程中 **不可避免的** 需要进行交换操作
* 交换操作的本质为 **数据元素间的相互复制**
* 当数据元素体积较大时， **交换操作耗时巨大**

### 解决方案：代理模式
* 为待排数据元素设置 代理对象
* 对 代理对象 所组成的序列进行排序
* 需要访问 有序数据元素时，通过访问代理序列完成

**空间换时间的体现**
